<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>data_handler module &mdash; mKID Readout - KIDPY3 2.0.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="kidpy module" href="kidpy.html" />
    <link rel="prev" title="config module" href="config.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            mKID Readout - KIDPY3
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">host</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Sweeps.html">Sweeps module</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">config module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">data_handler module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data_handler.ObservationDataFile"><code class="docutils literal notranslate"><span class="pre">ObservationDataFile</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#data_handler.RFChannel"><code class="docutils literal notranslate"><span class="pre">RFChannel</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#data_handler.RFChannel.ip"><code class="docutils literal notranslate"><span class="pre">RFChannel.ip</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#data_handler.RFChannel.n_attenuator"><code class="docutils literal notranslate"><span class="pre">RFChannel.n_attenuator</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#data_handler.RFChannel.n_resonator"><code class="docutils literal notranslate"><span class="pre">RFChannel.n_resonator</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#data_handler.RFChannel.n_sample"><code class="docutils literal notranslate"><span class="pre">RFChannel.n_sample</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#data_handler.RFChannel.name"><code class="docutils literal notranslate"><span class="pre">RFChannel.name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#data_handler.RFChannel.port"><code class="docutils literal notranslate"><span class="pre">RFChannel.port</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#data_handler.RFChannel.raw_filename"><code class="docutils literal notranslate"><span class="pre">RFChannel.raw_filename</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#data_handler.RawDataFile"><code class="docutils literal notranslate"><span class="pre">RawDataFile</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#data_handler.RawDataFile.close"><code class="docutils literal notranslate"><span class="pre">RawDataFile.close()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#data_handler.RawDataFile.format"><code class="docutils literal notranslate"><span class="pre">RawDataFile.format()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#data_handler.RawDataFile.read"><code class="docutils literal notranslate"><span class="pre">RawDataFile.read()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#data_handler.gen_read"><code class="docutils literal notranslate"><span class="pre">gen_read()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="kidpy.html">kidpy module</a></li>
<li class="toctree-l2"><a class="reference internal" href="udp2.html">udp2 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="valon5009.html">valon5009 module</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">mKID Readout - KIDPY3</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">host</a></li>
      <li class="breadcrumb-item active">data_handler module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/data_handler.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-data_handler">
<span id="data-handler-module"></span><h1>data_handler module<a class="headerlink" href="#module-data_handler" title="Permalink to this heading"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>data_handler defines an interface with whichi readout data is obtained, stored, and manipulated.
The format specified here is a standard</p>
<dl class="field-list simple">
<dt class="field-odd">Authors<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>Cody</p></li>
<li><p>Jack Sayers</p></li>
<li><p>Daniel Cunnane</p></li>
</ul>
</dd>
<dt class="field-even">Date<span class="colon">:</span></dt>
<dd class="field-even"><p>2023-07-26</p>
</dd>
<dt class="field-odd">Version<span class="colon">:</span></dt>
<dd class="field-odd"><p>1.0.0</p>
</dd>
</dl>
</section>
<dl class="py class">
<dt class="sig sig-object py" id="data_handler.ObservationDataFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">data_handler.</span></span><span class="sig-name descname"><span class="pre">ObservationDataFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_rfsoc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_sample</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_sample_lo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_resonator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_attenuator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_handler.html#ObservationDataFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#data_handler.ObservationDataFile" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The main Observation datafile which will encompass the data gatherd during an observation
period. raw rfsoc data is migrated into this data file after the observation has concluded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_rfsoc</strong> – the number of RFSOCs that will be merged together</p></li>
<li><p><strong>n_sample</strong> – the number of data samples collected</p></li>
<li><p><strong>n_sample_lo</strong> – the number of data samples collected during the LO sweep prior to the observation</p></li>
<li><p><strong>n_resonator</strong> – the total number of resonances spanning all RFSOCs</p></li>
<li><p><strong>n_attenuator</strong> – the number of attenuators on each RFSOC -</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="data_handler.RFChannel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">data_handler.</span></span><span class="sig-name descname"><span class="pre">RFChannel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">raw_filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ip</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_sample</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">488</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_resonator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_attenuator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_handler.html#RFChannel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#data_handler.RFChannel" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="data_handler.RFChannel.ip">
<span class="sig-name descname"><span class="pre">ip</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#data_handler.RFChannel.ip" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="data_handler.RFChannel.n_attenuator">
<span class="sig-name descname"><span class="pre">n_attenuator</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#data_handler.RFChannel.n_attenuator" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="data_handler.RFChannel.n_resonator">
<span class="sig-name descname"><span class="pre">n_resonator</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1000</span></em><a class="headerlink" href="#data_handler.RFChannel.n_resonator" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="data_handler.RFChannel.n_sample">
<span class="sig-name descname"><span class="pre">n_sample</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">488</span></em><a class="headerlink" href="#data_handler.RFChannel.n_sample" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="data_handler.RFChannel.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#data_handler.RFChannel.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="data_handler.RFChannel.port">
<span class="sig-name descname"><span class="pre">port</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#data_handler.RFChannel.port" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="data_handler.RFChannel.raw_filename">
<span class="sig-name descname"><span class="pre">raw_filename</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#data_handler.RFChannel.raw_filename" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="data_handler.RawDataFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">data_handler.</span></span><span class="sig-name descname"><span class="pre">RawDataFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_handler.html#RawDataFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#data_handler.RawDataFile" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A raw hdf5 data file object for incoming rfsoc-UDP data streams.</p>
<p>UDP packets containing our downsampled data streaming from the RFSOC to the readout computer
will be captured and saved to this hdf5 filetype.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – /file/path/here/file.h5</p></li>
<li><p><strong>n_sample</strong> – The number of data samples collected (i.e., sample_rate * length_of_file_in_seconds)</p></li>
<li><p><strong>n_resonator</strong> – The number of resonance tones</p></li>
<li><p><strong>n_attenuator</strong> – The number of attenuators in the IF slice or elsewhere in the system - likely = 2 for now</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="data_handler.RawDataFile.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_handler.html#RawDataFile.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#data_handler.RawDataFile.close" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_handler.RawDataFile.format">
<span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_sample</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_resonator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_attenuator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_handler.html#RawDataFile.format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#data_handler.RawDataFile.format" title="Permalink to this definition"></a></dt>
<dd><p>When called, populates the hdf5 file with our desired datasets</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="data_handler.RawDataFile.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_handler.html#RawDataFile.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#data_handler.RawDataFile.read" title="Permalink to this definition"></a></dt>
<dd><p>When called, the hdf5 file is read into this class instances variables to give them a nicer handle to work with.
read() is called when a RawDataFile object is initialized and a datafile bearing the same name exists. That file may not
have the same data or be from an older version of this file in which case an error may occur. Future iterations should be made
more robust.</p>
<p>The code used below to read the datasets from the RawDataFile was actually generated from gen_read given a blank RawDataFile.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>changes to the name of a dataset must be identical to the instance variable identifier with which that dataset belongs.
self.identifier = self.fh[“/some/path/here/identifier”]</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="data_handler.gen_read">
<span class="sig-prename descclassname"><span class="pre">data_handler.</span></span><span class="sig-name descname"><span class="pre">gen_read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/data_handler.html#gen_read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#data_handler.gen_read" title="Permalink to this definition"></a></dt>
<dd><p>Cheat function. Reads an hdf5 file and generates read statements to then be pasted back into
the class. This method worked because the dataset name was the same as the instance variable name.</p>
<p>that is /group/group/adc_i translates to self.fh.adc_i</p>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="config.html" class="btn btn-neutral float-left" title="config module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="kidpy.html" class="btn btn-neutral float-right" title="kidpy module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Arizona State University.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>